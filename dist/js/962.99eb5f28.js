"use strict";(self["webpackChunkhe_we_go_again"]=self["webpackChunkhe_we_go_again"]||[]).push([[962],{1962:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var o=a(3396),l=a(7139),r=a(6357),s=a(2425),n=a(3369),i=a(2931),d=a(240),u=a(2902);const g=(0,o.Uk)("Gönder");function c(e,t,a,c,m,p){const h=(0,o.up)("text-editor"),f=(0,o.up)("file-upload");return(0,o.wg)(),(0,o.j4)(n.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s._,{"max-width":"1200",class:"pa-6 ma-auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(u.h,{color:"primary",modelValue:m.userData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>m.userData.title=e),label:"Gönderi Başlığı"},null,8,["modelValue"]),(0,o.Wm)(h,{content:"",action:m.action,onOnSave:p.onEmit},null,8,["action","onOnSave"]),(0,o.Wm)(d.rL,{class:"mt-5",color:"primary",items:m.tags,label:"Kategori Seçiniz",modelValue:m.category,"onUpdate:modelValue":t[1]||(t[1]=e=>m.category=e)},null,8,["items","modelValue"]),(0,o.Wm)(f,{baslik:"Resmi seçiniz",onFile:p.file},null,8,["onFile"]),(0,o.Wm)(r.T,{disabled:m.onloading,onClicked:t[2]||(t[2]=e=>m.onloading=!m.onloading),class:"my-4",color:"primary",onClick:t[3]||(t[3]=e=>p.onSave())},{default:(0,o.w5)((()=>[g])),_:1},8,["disabled"]),(0,o.Wm)(i.K,{"model-value":m.uploadProgress.percent,color:"light-blue",height:"10",striped:""},null,8,["model-value"]),(0,o._)("p",null,(0,l.zw)(m.uploadProgress.loaded/m.uploadProgress.total==1?"İşlem Tamamlandı":"Yükleniyor"),1)])),_:1})])),_:1})}var m=a(1550),p=a(1347),h={data(){return{category:"",html:"",onloading:!1,action:!1,uploadProgress:{loaded:0,total:0,percent:0},tags:[],userData:{title:null,content:null,tags:[],creator:null,creator_avatar:null,category:""},image:null,xd:40}},components:{fileUpload:m.Z,textEditor:p.Z},mounted(){this.$appAxios.get("/tags").then((e=>{this.tags=e.data.result.tags})),this.userData.creator=this.$store.getters._getCurrentUser.name,this.userData.creator_avatar=this.$store.getters._getCurrentUser.avatar},watch:{category(e,t){console.log(e,t)}},methods:{file(e){this.image=e},onEmit(e){this.html=e},onSave(){this.userData.content=this.html;const e=new FormData;console.log(this.image),e.append("reqfile",this.image,this.image.name),e.append("userData",JSON.stringify(this.userData));const t={onUploadProgress:e=>{this.uploadProgress.loaded=e.loaded,this.uploadProgress.total=e.total,this.uploadProgress.percent=Math.round(this.uploadProgress.loaded/this.uploadProgress.total*100)}};this.$appAxios.post("/createpost",e,t)}}},f=a(89);const _=(0,f.Z)(h,[["render",c]]);var v=_}}]);
//# sourceMappingURL=962.99eb5f28.js.map