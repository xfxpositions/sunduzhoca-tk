"use strict";(self["webpackChunkhe_we_go_again"]=self["webpackChunkhe_we_go_again"]||[]).push([[880],{6880:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var o=a(3396),s=a(7139),l=a(6357),r=a(2425),n=a(3369),i=a(2931),u=a(240),d=a(2902);const p=(0,o.Uk)("Gönder");function c(t,e,a,c,h,g){const m=(0,o.up)("text-editor"),f=(0,o.up)("file-upload");return(0,o.wg)(),(0,o.j4)(n.K,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r._,{"max-width":"1200",class:"pa-6 ma-auto"},{default:(0,o.w5)((()=>[h.post.title?((0,o.wg)(),(0,o.j4)(d.h,{key:0,color:"primary",modelValue:h.userData.title,"onUpdate:modelValue":e[0]||(e[0]=t=>h.userData.title=t),label:"Gönderi Başlığı"},null,8,["modelValue"])):(0,o.kq)("",!0),h.post.content?((0,o.wg)(),(0,o.j4)(m,{key:1,content:h.post.content,action:h.action,onOnSave:g.onEmit},null,8,["content","action","onOnSave"])):(0,o.kq)("",!0),(0,o.Wm)(u.rL,{class:"mt-5",color:"primary",items:h.tags,label:"Kategori Seçiniz"},null,8,["items"]),(0,o.Wm)(f,{baslik:"Resmi seçiniz",onFile:g.file},null,8,["onFile"]),(0,o.Wm)(l.T,{disabled:h.onloading,onClicked:e[1]||(e[1]=t=>h.onloading=!h.onloading),class:"my-4",color:"primary",onClick:e[2]||(e[2]=t=>g.onSave())},{default:(0,o.w5)((()=>[p])),_:1},8,["disabled"]),(0,o.Wm)(i.K,{"model-value":h.uploadProgress.percent,color:"light-blue",height:"10",striped:""},null,8,["model-value"]),(0,o._)("p",null,(0,s.zw)(h.uploadProgress.loaded/h.uploadProgress.total==1?"İşlem Tamamlandı":"Yükleniyor"),1)])),_:1})])),_:1})}var h=a(1550),g=a(1347),m={data(){return{html:"",onloading:!1,action:!1,uploadProgress:{loaded:0,total:0,percent:0},tags:[],userData:{title:null,content:null,tags:[],creator:null,creator_avatar:null},post:{},image:null,xd:40}},components:{fileUpload:h.Z,textEditor:g.Z},mounted(){this.$appAxios.get("/tags").then((t=>{this.tags=t.data.result.tags})),this.userData.creator=this.$store.getters._getCurrentUser.name,this.userData.creator_avatar=this.$store.getters._getCurrentUser.avatar;const t=this.$route.params;this.$appAxios.post("/posts",{creator:t.creator,title:t.title,id:t.id}).catch((t=>{console.log("err : "+t),this.$router.push("/404")})).then((t=>{console.log(t),this.post=t.data.result[0],this.userdata=t.data.result[0],this.userData.title=this.post.title}))},methods:{file(t){this.image=t},onEmit(t){this.html=t},onSave(){this.userData.content=this.html;const t=new FormData;console.log(this.image),t.append("reqfile",this.image,this.image.name),t.append("userData",JSON.stringify(this.userData));const e={onUploadProgress:t=>{this.uploadProgress.loaded=t.loaded,this.uploadProgress.total=t.total,this.uploadProgress.percent=Math.round(this.uploadProgress.loaded/this.uploadProgress.total*100)}};this.$appAxios.post("/editpost",t,e)}}},f=a(89);const _=(0,f.Z)(m,[["render",c]]);var k=_}}]);
//# sourceMappingURL=880.5e4d55f7.js.map